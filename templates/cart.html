{% extends "layout.html" %}
{% block content %}

{% for message in get_flashed_messages() %}
<div style="padding:25px; padding-bottom: 10px; background-color: rgb(24, 27, 70);;">
    <div class="alert alert-primary alert-dismissible fade show" role="alert" style="padding:15px">
        <strong>{{message}}</strong>
        <button type="button" class="close" data-dismiss="alert" aria-label="Close">
            <span aria-hidden="true">&times;</span>
        </button>
    </div>
</div>
{% endfor %}

<div class="box">
    {% for i in cart %}
    <form method="POST" action="/cart" class="d-flex">
        {{ form.hidden_tag() }}
        <button class="btn" style="border-color: black; color:#000 ; border-radius:0px; width:150px" type="submit"
            disabled>
            {{ cart.index(i) + 1 }}</button>
        <input class="form-control ml" style="width:10px; visibility: hidden" type="search" placeholder="Search"
            ,aria-label="Search" , name="idt" , value="{{ i.get('_id') }}">
        <img class="iii" src={{i.get('image')}} style="width:175px; border: 1px solid #000; padding: 2px">
        <input class="form-control ml" style="width:10px; visibility: hidden" type="search" placeholder="Search"
            ,aria-label="Search" ,value="{{ i.get('_id') }}">
        <input class="btn" style="border-color: black; border-radius:0px;"
            value="{{ i.get('category') }} {{ i.get('name') }}" disabled>
        <input class="form-control ml" style="width:10px; visibility: hidden" type="search" placeholder="Search"
            ,aria-label="Search" , value="{{ i.get('_id') }}">
        <input class="btn" style="border-color: black; border-radius:0px;" type="search" placeholder="Search"
            ,aria-label="Search" , name="srp" , value="{{ i.get('srp') }}" disabled>
        <input class="form-control ml" style="width:10px; visibility: hidden" type="search" placeholder="Search"
            ,aria-label="Search" , value="{{ i.get('_id') }}">
        {% if i.get('quantity') > 5 %}
        <input class="btn" type="number" style="border-color: black; border-radius:0px; width:200px" type="search"
            placeholder="Search" ,aria-label="Search" , name="quantity{{cart.index(i)}}" min="0" max={{5}}
            value={{i.get('cqty')}}>
        {% else %}
        <input class="btn" type="number" style="border-color: black; border-radius:0px;" type="search"
            placeholder="Search" ,aria-label="Search" , name="quantity{{cart.index(i)}}" min="0"
            max={{i.get('quantity')}} value={{i.get('cqty')}}>
        {% endif %}
        <input class="form-control ml" style="width:10px; visibility: hidden" type="search" placeholder="Search"
            ,aria-label="Search" , value="{{ i.get('_id') }}">
        <input class="btn" style="border-color: black; border-radius:0px;" type="search" placeholder="Search"
            ,aria-label="Search" , name="total" , value="{{ i.get('total') }}" disabled>
        <input class="form-control ml" style="width:10px; visibility: hidden" type="search" placeholder="Search"
            ,aria-label="Search" , value="{{ i.get('_id') }}">
        <button type="submit" class="btn" style="border-color: black; color:#000 ; border-radius:0px; width:150px"
            type="submit">
            <i class="fa fa-check"></i></button>
    </form>
    <br>
    {% endfor %}
    <button type="submit" class="textareatt subbm"><a href="/info">Buy Now: &nbsp;â‚¹{{total_amount}}</a></button>
</div>

{% endblock content %}